import{_ as s,c as a,o as e,S as n}from"./chunks/framework.9c4db3f7.js";const h=JSON.parse('{"title":"Homebrew 相关","description":"","frontmatter":{},"headers":[],"relativePath":"notes/15.md","filePath":"notes/15.md","lastUpdated":1693475307000}'),l={name:"notes/15.md"},p=n(`<h1 id="homebrew-相关" tabindex="-1">Homebrew 相关 <a class="header-anchor" href="#homebrew-相关" aria-label="Permalink to &quot;Homebrew 相关&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">原文地址</p><p><a href="https://github.com/tangxve/notes/issues/15" target="_blank" rel="noreferrer">Homebrew 相关 | GitHub</a></p></div><h2 id="homebrew" tabindex="-1">Homebrew <a class="header-anchor" href="#homebrew" aria-label="Permalink to &quot;Homebrew&quot;">​</a></h2><p><a href="https://brew.sh/index_zh-cn" target="_blank" rel="noreferrer">官网地址</a></p><h4 id="_1-更新-homebrew" tabindex="-1">1. 更新 Homebrew <a class="header-anchor" href="#_1-更新-homebrew" aria-label="Permalink to &quot;1. 更新 Homebrew&quot;">​</a></h4><p>要获取最新的包的列表，首先得更新 Homebrew 自己。这可以用 brew update 办到。</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-更新包-formula" tabindex="-1">2. 更新包 (formula) <a class="header-anchor" href="#_2-更新包-formula" aria-label="Permalink to &quot;2. 更新包 (formula)&quot;">​</a></h4><p>更新之前，我会用 <code>brew outdated</code> 查看哪些包可以更新。</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">outdated</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后就可以用 <code>brew upgrade</code> 去更新了。Homebrew 会安装新版本的包，但旧版本仍然会保留。</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 更新所有的包</span></span>
<span class="line"><span style="color:#FFCB6B;">berw</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upgrade</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 更新指定的包</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upgrade</span><span style="color:#A6ACCD;"> $FORMULA</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-清理旧版本" tabindex="-1">3. 清理旧版本 <a class="header-anchor" href="#_3-清理旧版本" aria-label="Permalink to &quot;3. 清理旧版本&quot;">​</a></h4><p>一般情况下，新版本安装了，旧版本就不需要了。我会用 <code>brew cleanup</code> 清理旧版本和缓存文件。Homebrew 只会清除比当前安装的包更老的版本，所以不用担心有些包没更新但被删了。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 清理所有包的旧版本</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cleanup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 清理指定包的旧版本</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cleanup</span><span style="color:#A6ACCD;"> $FORMULA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看可清理的旧版本包，不执行实际操作</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cleanup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-n</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这样一套下来，该更新的都更新了，旧版本也被清理了。</p><h4 id="_4-锁定不想更新的包" tabindex="-1">4. 锁定不想更新的包 <a class="header-anchor" href="#_4-锁定不想更新的包" aria-label="Permalink to &quot;4. 锁定不想更新的包&quot;">​</a></h4><p>如果经常更新的话，<code>brew update</code> 一次更新所有的包是非常方便的。但我们有时候会担心自动升级把一些不希望更新的包更新了。</p><p>数据库就属于这一类，尤其是 PostgreSQL 跨 minor 版本升级都要迁移数据库的。我们更希望找个时间单独处理它。这时可用 <code>brew pin</code> 去锁定这个包，然后 <code>brew update</code> 就会略过它了。</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 锁定某个包</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pin</span><span style="color:#A6ACCD;"> $FORMULA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 取消锁定</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unpin</span><span style="color:#A6ACCD;"> $FORMULA</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_5-其他几个常用命令" tabindex="-1">5.其他几个常用命令 <a class="header-anchor" href="#_5-其他几个常用命令" aria-label="Permalink to &quot;5.其他几个常用命令&quot;">​</a></h4><p>查看包的相关信息</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 可以查看包的相关信息，最有用的应该是包依赖和相应的命令</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,23),r=[p];function o(t,c,i,b,d,u){return e(),a("div",null,r)}const C=s(l,[["render",o]]);export{h as __pageData,C as default};
