# js 相关面试题

## 0.1 + 0.2 什么不等于 0.3，有什么解决方法
1. JS 中 number 类型，按照 `IEEE754` 标准区分整数和浮点数（ IEEE754 全称：IEEE 二进制浮点数算术标准）
2. JS 采用 IEEE754 标准的 双精确度 存储格式（单精确度（32位）、双精确度（64位））
3. 运算过程
    1. 浮点数转二进制（0.1转二进制是一个无限循环的数）
    2. 浮点数的储存阶段（使用科学计数法：-1 * 10^3 * 1.02） (0.1和0.2存储2次) **二次存储 精度丢失**
    3. 浮点数的运算 **精度丢失**    
4. 因为两次存储时的精度丢失加上一次运算时的精度丢失，最终导致了 0.1 + 0.2 !== 0.3


**解决方法**

- Math.js：三方库 [https://mathjs.org/](https://mathjs.org/)
- 把计算数字 提升 10 的 N 次方 倍 再 除以 10的 N 次方。 N > 1
```javascript
(0.1 * 1000 + 0.2 * 1000) / 1000 == 0.3

// true
```
  



       

## const 为什么不能重新赋值、为什么不能重新声明

const 指针指向不可以改变，指向地址的内容是可以改变的。 因为 const 只是保证了对象的的指针不变，而对象的内容改变不会影响到指针的改变，所以对象属性是可以修改的


## common.js 和 es6 中模块引入的区别？

commonJs： `require` / `exports` 是一种模块语法，最初应用用 `nodejs` 成为 `nodejs` 的模块规范

ES6 模块：
`import` / `export` 

- `commonJs` 模块是输出的是一个值的拷贝，ES6 模块输出的是值的引用
- `commonJs` 模块是运行是加载，是`同步`加载的，ES6 模块是编译时输出接口
- `commonJs` 是单个值导出，ES6 模块可以导出多个
- `commonJs` 是动态语法可以写判断，ES6 模块静态语法只能写在顶层（如果要写在别的地方，可以使用 `import()` 函数实现）
    - `require('url' + a + b)` 不会报错
    - `import 'url' + a + b `会报错，可以使用 `import('url' + a + b)`
- `commonJs` 的 `this` 是当前的模块，ES6 模块的 `this` 是 `undefined`
